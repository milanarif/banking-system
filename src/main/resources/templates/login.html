<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org" lang="en">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<head>
  <meta charset="UTF-8">
  <title>Login</title>
</head>
<body>
<form style="width: 400px; margin: auto; padding-top: 10%">
  <h1 style="text-align: center; font-size: 28px;">Login to bank</h1>

  <div class="form-group">
    <label for="usernameInput">Username</label>
    <input type="text" class="form-control" id="usernameInput" placeholder="Enter username">
  </div>
  <div class="form-group">
    <label for="passwordInput">Password</label>
    <input type="password" class="form-control" id="passwordInput" placeholder="Password">
  </div>

  <button type="submit" class="btn btn-primary" style="margin-top: 10px; width: 400px;">Login</button>
</form>
<script>

  const elUsername = document.querySelector('#usernameInput');
  const elPassword = document.querySelector('#passwordInput');

  function login(event) {

    let username = elUsername.value;
    let password = elPassword.value;


    let data = {
      "username": username,
      "password": password
    }

    fetch("http://localhost:8080/auth", {
      method: "POST",
      headers: {'Content-Type': 'application/json'},
      body: JSON.stringify(data)
    }).then(res => {
      console.log(res);
    }).catch(error => {
      console.log(error);
    })

    event.preventDefault();
  }

  addEventListener("submit", login);

</script>
</body>
</html>